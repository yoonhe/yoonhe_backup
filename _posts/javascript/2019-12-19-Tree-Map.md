---
title: "Data structure - Tree Map Mathod "
categories:
  - DataStructure
---
## Tree Map Mathod 

Treeì˜ ë©”ì†Œë“œì¸ mapì„ êµ¬í˜„í•˜ëŠ”ë° ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë ¸ë‹¤..  
map ë©”ì†Œë“œëŠ” ì•„ë˜ì™€ ê°™ì€ íŠ¹ì„±ì„ ê°€ì§„ë‹¤.  
1. ê¸°ì¡´ ê°ì²´ì™€ ê°™ì€ êµ¬ì¡°ì´ë˜ ê°ì²´ì˜ ê°’ë“¤ì€ callback í•¨ìˆ˜ì— ìˆœì„œëŒ€ë¡œ ë„£ì–´ ì‹¤í–‰ì‹œí‚¨ ê°’ì´ì–´ì•¼ í•œë‹¤.
	- ê¸°ì¡´ ê°ì²´ì˜ ì£¼ì†Œê°’ì„ ì°¸ì¡°í•˜ë©´ ì•ˆë¨ => ì–‡ì€ ë³µì‚¬(shallow copy)
    - ìƒˆë¡œìš´ ê³µê°„ì— ê¸°ì¡´ ê°ì²´ì˜ ì£¼ì†Œê°’ê³¼ ìƒê´€ì—†ëŠ” ìƒˆë¡œìš´ ê°ì²´ë¥¼ ë§Œë“¤ì–´ì•¼í•¨ => ê¹Šì€ ë³µì‚¬(deep copy)
2. ê¸°ì¡´ ê°ì²´ëŠ” ìˆ˜ì •ë˜ë©´ ì•ˆëœë‹¤.
3. ìƒˆë¡œ ë§Œë“¤ì–´ì§„ ê°ì²´ë“¤ì€ Tree Classì˜ instanceì—¬ì•¼ í•œë‹¤.


1ë²ˆì„ êµ¬í˜„í•˜ê¸° ìœ„í•´ deep copyë¥¼ êµ¬ê¸€ë§í•˜ì—¬ ì°¾ì•„ë³´ì•˜ë‹¤.  
JSON.stringifyë¥¼ ì‚¬ìš©í•˜ì—¬ ê°ì²´ë¥¼ ë¬¸ìë¡œ ë°”ê¾¸ê³ , JSON.parseë¥¼ ì´ìš©í•˜ì—¬ ë¬¸ìë¥¼ ê°ì²´ë¡œ ë‹¤ì‹œ ë°”ê¿”ì£¼ë©´ ë³µì‚¬í•œ ê°ì²´ì™€ ì—°ê²°ì´ ëŠê¸´ë‹¤ê³ í•œë‹¤.  
- JSON.parse(JSON.stringify(this))  

ë“œë””ì–´ ì´ì œ ë¬¸ì œë¥¼ í‘¸ëŠ”ê°€ì‹¶ì–´ ê¸°ìœë§ˆìŒìœ¼ë¡œ ì½”ë“œë¥¼ ì•„ë˜ì™€ ê°™ì´ ì‘ì„±í•˜ì˜€ë‹¤.  

```js
let cloneObj = new Tree();
Object.assign(cloneObj, JSON.parse(JSON.stringify(this)));
```

ê·¸ëŸ°ë°..ë£¨íŠ¸ ë…¸ë“œì˜ constructorë§Œ Treeë¡œ ì„¤ì •ë˜ìˆê³ , ìì‹ë…¸ë“œë“¤ì€ Objectë¡œ ë˜ì–´ìˆë‹¤..  
![image.png](https://images.velog.io/post-images/yhe228/35220f10-223f-11ea-8a8a-754eee579194/image.png)  

assignì„ í†µí•´ Treeì˜ Instanceì— JSON.parse(JSON.stringify(this))ë¥¼ ì—°ê²°í•´ì£¼ë©´ Prototypeì´ ëª¨ë“  ë…¸ë“œì— ìƒì†ë˜ëŠ”ì¤„ ì•Œì•˜ëŠ”ë°.. ë£¨íŠ¸ ë…¸íŠ¸ì—ë§Œ ìƒì†ëœë‹¤..  

ëª¨ë“  ë…¸ë“œë¥¼ ìˆœíšŒí•˜ë©´ì„œ Treeì˜ Instanceë¡œ ë°”ê¿”ì£¼ë ¤ë©´ ì–´ë–»ê²Œ í•´ì•¼í•˜ëŠ”ì§€..ë„ë¬´ì§€ ê°ì´ ì•ˆì¡íŒë‹¤.  

ê·¸ë˜ì„œ ê²°êµ­ ëª‡ì‹œê°„ì„ ê³ ë¯¼í•˜ë©° ì‹œë„í•´ë³´ë‹¤ê°€.. ê²°êµ­ ë‹µì§€ë¥¼ ë³´ì•˜ë‹¤.. ã…œ  

reference ì½”ë“œ ì „ë¬¸ì´ë‹¤.  

```js
var Tree = function(value) {
  this.value = value;
  this.children = [];
};

Tree.prototype.addChild = function(child) {
  if (!child || !(child instanceof Tree)) {
    child = new Tree(child);
  }
  this.children.push(child);
  // return the tree for convenience
  return this;
};

Tree.prototype.map = function(callback) {
  return this.children.reduce(function(tree, child) {
    return tree.addChild(child.map(callback));
  }, new Tree(callback(this.value)));
};
```

ì ì´ì œ ë‚´ê°€ ê³ ë¯¼í•˜ê³  ê³ ë¯¼í–ˆë˜ map ë©”ì†Œë“œë¥¼ ë¶„ì„í•´ë³´ì.  

```js
Tree.prototype.map = function(callback) {
  return this.children.reduce(function(tree, child) {
    return tree.addChild(child.map(callback));
  }, new Tree(callback(this.value)));
};
```

### ğŸ˜’ ë‚˜ì˜ ë¬¸ì œì 
- ë‚˜ëŠ” ê³„ì† ì´ë¯¸ ë§Œë“¤ì–´ì ¸ ìˆëŠ” ê°ì²´ìì²´ë¥¼ ì „ë¶€ ë³µì‚¬í•´ì„œ ê·¸ ìƒíƒœì—ì„œ í”„ë¡œí† íƒ€ì…ì„ Treeë¡œ ë°”ê¿”ì¤„ ìƒê°ë§Œ ê³„ì† í–ˆë‹¤..  
- í•œê°€ì§€ ë°©ë²•ë§Œ ìƒê°í•œë‹¤

### ğŸ˜Š reference ë¶„ì„ 
1. this.valueë¥¼ callbackì— ë„£ê³  ëŒë¦° ê°’ìœ¼ë¡œ Tree Instanceë¥¼ ë§Œë“¤ì–´ íŠ¸ë¦¬ì˜ ìì‹ ë…¸ë“œë¥¼ íƒìƒ‰í•˜ëŠ” reduceì˜ ì´ˆê¸°ê°’ì— ë„£ì–´ì¤€ë‹¤
2. ìì‹ë…¸ë“œì˜ ìì‹ë…¸ë“œë¥¼ recursionìœ¼ë¡œ ë°˜ë³µ íƒìƒ‰í•˜ë©´ì„œ ìì‹ë…¸ë“œì— map ë©”ì†Œë“œë¥¼ ì‹¤í–‰ì‹œí‚¨ ê²°ê³¼ê°’ì„ í˜„ì¬ ëˆ„ì ê°’ì— addChldë¥¼ ì´ìš©í•´ í˜„ì¬ ëˆ„ì ê°’ì˜ childrenì— pushí•´ì¤€ë‹¤.
3. addChild ë©”ì†Œë“œì—ì„œ í˜„ì¬ thisê°’ì„ ë°˜í™˜í•´ì£¼ê¸° ë•Œë¬¸ì— ê·¸ ë°˜í™˜ê°’ì´ reduceì—ì„œ ë˜ ë°˜í™˜ë˜ì–´ reduceì˜ ëˆ„ì ê°’ì€ í˜„ì¬ thisê°€ ëœë‹¤.
4. ì´ë ‡ê²Œ childrenì´ ì—†ëŠ” ë…¸ë“œê°€ ë°œê²¬ë  ë•Œ ê¹Œì§€ recursionì„ ëŒë‹¤ê°€ ë§ˆì§€ë§‰ ëˆ„ì ê°’ì„ ë°˜í™˜í•œë‹¤.


```js
var identity = function(value) {
  return value;
};
var input = new Tree(1);
input.addChild(2);
input.addChild(3);

var result = input.map(identity);
```
### map method ì‹¤í–‰ìˆœì„œ
- í˜„ì¬ input = {value : 1, children : [{value : 2, children : []}, {value : 3, children : []}]}  
0. map ë©”ì†Œë“œ ì‹¤í–‰
1. ì²«ë²ˆì§¸ ëˆ„ì ê°’ = Tree {value : 1, children : []}
2. ë‘ë²ˆì§¸ ëˆ„ì ê°’ = Tree {value : 1, children : [{value : 2, children : []}]}
3. ì„¸ë²ˆì§¸ ëˆ„ì ê°’ = Tree {value : 1, children : [{value : 2, children : []}, {value : 3, children : []}]}


